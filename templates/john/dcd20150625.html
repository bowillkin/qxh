<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
    <table cellpadding="0" cellspacing="0" border="0" class="table table-bordered table-hover table-condensed" id="report">
        <thead>
        <tr>
            <th>电话</th>
            <th>产品名称</th>
            <th>数量</th>
            <th>价格</th>
            <th>金额</th>
        </tr>
        </thead>
        <tbody>
        {% for d in data %}
            {% set num = d['items']|length %}
            <tr>
            <td rowspan="{{ num + 1 }}">{{ d['phone'] }}</td>
            </tr>
            {% for item in d['items'] %}
            <tr><td style="text-align: left">{{ item['name'] }}</td><td>{{ item['num'] }}</td><td>{{ item['price'] }}</td><td>{{ item['fee'] }}</td></tr>
            {% endfor %}
        {% endfor %}
        </tbody>
    </table>
</body>
</html>